%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% The Legrand Orange Book
% LaTeX Template
% Version 2.0 (9/2/15)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Mathias Legrand (legrand.mathias@gmail.com) with modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
% Compiling this template:
% This template uses biber for its bibliography and makeindex for its index.
% When you first open the template, compile it from the command line with the 
% commands below to make sure your LaTeX distribution is configured correctly:
%
% 1) pdflatex main
% 2) makeindex main.idx -s StyleInd.ist
% 3) biber main
% 4) pdflatex main x 2
%
% After this, when you wish to update the bibliography/index use the appropriate
% command above and make sure to compile with pdflatex several times 
% afterwards to propagate your changes to the document.
%
% This template also uses a number of packages which may need to be
% updated to the newest versions for the template to compile. It is strongly
% recommended you update your LaTeX distribution if you have any
% compilation errors.
%
% Important note:
% Chapter heading images should have a 2:1 width:height ratio,
% e.g. 920px width and 460px height.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

%\documentclass[11pt,fleqn,dvipsnames]{book} % Default font size and left-justified equations
\documentclass[11pt,dvipsnames]{book} 

%----------------------------------------------------------------------------------------

\input{structure} % Insert the commands.tex file which contains the majority of the structure behind the template



%%agregué




%%%My stuff


%\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{tgpagella}
%\usepackage{due-dates}
\usepackage[small]{eulervm}
\usepackage{amsmath,amssymb,amstext,amsthm,amscd,mathrsfs,eucal,bm,xcolor}
\usepackage{multicol}
\usepackage{array,color,graphicx}
\usepackage{xypic}


\usepackage{epigraph}
%\usepackage[colorlinks,citecolor=red,linkcolor=blue,pagebackref,hypertexnames=false]{hyperref}

%\theoremstyle{remark} 
%\newtheorem{definition}[theorem]{Definition}
%\newtheorem{example}[theorem]{\bf Example}
%\newtheorem*{solution}{Solution:}


\usepackage{centernot}


\usepackage{filecontents}

\usepackage{tcolorbox} 





% Ignore this part, this is the former way of hiding and unhiding solutions, new version is after this
%
%\begin{filecontents*}{MyPackage.sty}
%\NeedsTeXFormat{LaTeX2e}
%\ProvidesPackage{MyPackage}
%\RequirePackage{environ}
%\newif\if@hidden% \@hiddenfalse
%\DeclareOption{hide}{\global\@hiddentrue}
%\DeclareOption{unhide}{\global\@hiddenfalse}
%\ProcessOptions\relax
%\NewEnviron{solution}
%  {\if@hidden\else \begin{tcolorbox}{\bf Solution: }\BODY \end{tcolorbox}\fi}
%\end{filecontents*}
%
%
%
%\usepackage[hide]{MyPackage} % hides all solutions
%\usepackage[unhide]{MyPackage} %shows all solutions




%\usepackage[unhide,all]{hide-soln} %show all solutions
\usepackage[unhide,odd]{hide-soln} %hide even number solutions
%\usepackage[hide]{hide-soln} %hide all solutions






\def\putgrid{\put(0,0){0}
\put(0,25){25}
\put(0,50){50}
\put(0,75){75}
\put(0,100){100}
\put(0,125){125}
\put(0,150){150}
\put(0,175){175}
\put(0,200){200}
\put(25,0){25}
\put(50,0){50}
\put(75,0){75}
\put(100,0){100}
\put(125,0){125}
\put(150,0){150}
\put(175,0){175}
\put(200,0){200}
\put(225,0){225}
\put(250,0){250}
\put(275,0){275}
\put(300,0){300}
\put(325,0){325}
\put(350,0){350}
\put(375,0){375}
\put(400,0){400}
{\color{gray}\multiput(0,0)(25,0){16}{\line(0,1){200}}}
{\color{gray}\multiput(0,0)(0,25){8}{\line(1,0){400}}}
}



%\usepackage{tikz}

%\pagestyle{headandfoot}
%\firstpageheader{\textbf{Proofs \& Problem Solving}}{\textbf{Homework 1}}{\textbf{\PSYear}}
%\runningheader{}{}{}
%\firstpagefooter{}{}{}
%\runningfooter{}{}{}

%\marksnotpoints
%\pointsinrightmargin
%\pointsdroppedatright
%\bracketedpoints
%\marginpointname{ \points}
%\totalformat{[\totalpoints~\points]}

\def\R{\mathbb{R}}
\def\Z{\mathbb{Z}}
\def\N{{\mathbb{N}}}
\def\Q{{\mathbb{Q}}}
\def\C{{\mathbb{C}}}
\def\hcf{{\rm hcf}}


%%end of my stuff


\usepackage[hang, small,labelfont=bf,up,textfont=it,up]{caption} % Custom captions under/above floats in tables or figures
\usepackage{booktabs} % Horizontal rules in tables
\usepackage{float} % Required for tables and figures in the multi-column environment - they




\usepackage{graphicx} % paquete que permite introducir imágenes

\usepackage{booktabs} % Horizontal rules in tables
\usepackage{float} % Required for tables and figures in the multi-column environment - they

\numberwithin{equation}{section} % Number equations within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{figure}{section} % Number figures within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{table}{section} % Number tables within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)


%\setlength\parindent{0pt} % Removes all indentation from paragraphs - comment this line for an assignment with lots of text

%%hasta aquí


\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------


\begingroup
\thispagestyle{empty}
\begin{tikzpicture}[remember picture,overlay]
\coordinate [below=12cm] (midpoint) at (current page.north);
\node at (current page.north west)
{\begin{tikzpicture}[remember picture,overlay]
\node[anchor=north west,inner sep=0pt] at (0,0) {\includegraphics[width=\paperwidth]{Figures/blank.png}}; % Background image
\draw[anchor=north] (midpoint) node [fill=ocre!30!white,fill opacity=0.6,text opacity=1,inner sep=1cm]{\Huge\centering\bfseries\sffamily\parbox[c][][t]{\paperwidth}{\centering Proofs and Problem Solving \\[15pt] % Book title
{\huge Week 8: Relations and Functions}\\[20pt] % Subtitle
{\Large Notes  based on Martin Liebeck's \\ \textit{A Concise Introduction to Pure Mathematics}}}}; % Author name
\end{tikzpicture}};
\end{tikzpicture}
\vfill
\endgroup




%----------------------------------------------------------------------------------------
%	COPYRIGHT PAGE
%----------------------------------------------------------------------------------------

%\newpage
%~\vfill
%\thispagestyle{empty}

%\noindent Copyright \copyright\ 2013 John Smith\\ % Copyright notice

%\noindent \textsc{Published by Publisher}\\ % Publisher

%\noindent \textsc{book-website.com}\\ % URL

%\noindent Licensed under the Creative Commons Attribution-NonCommercial 3.0 Unported License (the ``License''). You may not use this file except in compliance with the License. You may obtain a copy of the License at \url{http://creativecommons.org/licenses/by-nc/3.0}. Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \textsc{``as is'' basis, without warranties or conditions of any kind}, either express or implied. See the License for the specific language governing permissions and limitations under the License.\\ % License information

%\noindent \textit{First printing, March 2013} % Printing/edition date

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS
%----------------------------------------------------------------------------------------

\chapterimage{Figures/blank.png} % Table of contents heading image

%\chapterimage{chapter_head_1.pdf} % Table of contents heading image

\pagestyle{empty} % No headers

 \tableofcontents % Print the table of contents itself

\cleardoublepage % Forces the first chapter to start on an odd page so it's on the right

\pagestyle{fancy} % Print headers again

%----------------------------------------------------------------------------------------
%	PART
%----------------------------------------------------------------------------------------



\part{Week 8: Relations and Functions}


\chapterimage{Figures/blank.png} 




%\chapterimage{} 

\setcounter{chapter}{12}

\setcounter{page}{0}



\chapter{More set theory and Equivalence relations}

\section{Cartesian products}

When we have two mathematical objects $x$ and $y$, an ordered pair $(x,y)$ is a way of listing the objects in order, so that $(x,y) \neq (y,x)$.
The main point is that we want $(x,y) = (u,v)$ to hold if and only if both $x =u$ and $y = v$.
This is in contrast with the sets $\{x,y\}$ and $\{u,v\}$, where the order does not matter: we have $\{x,y\} = \{y,x\}$.

Here is the way we make this set-theoretically sensible:
\begin{definition}
Let $S$ and $T$ be sets, and let $x \in S$ and $y \in T$.
Then we define the \emph{ordered pair}
\[
(x,y) = \{\{x\},\{x,y\}\}.
\]

The set of all ordered pairs is the \emph{cartesian product}:
\[
X \times Y = \{(x,y) : (x \in X)\wedge (y \in Y)\}.
\]
\end{definition}

You have already seen some Cartesian products in ILA: 
\[
\R^{2} = \{(x,y) : x,y\in\mathbb{R}\} = \mathbb{R}\times \mathbb{R}.
\]

A rectangle in $\mathbb{R}^{2}$ can be defined using two intervals, $[a,b]$ in the $x$-axis and $[c,d]$ in the $y$ axis:
\[
[a,b]\times [c,d]=\{(x,y) : (x\in [a,b]) \wedge (y\in [c,d])\}.
\]
We can take products of very different sets. For example, $\{1,2,...,8\}\times \{Cat,Dog\}$ is the set of all pairs of numbers between 1 and 8 with either a cat or dog, so elements of the form $(2,Dog)$, $(8,Cat)$, etc.

We can also define \emph{ordered $n$-tuples}:
\[
(x_1, \dots, x_n) = \{\{x_1\}, \{x_1,x_2\}, \dots, \{x_1, \dots, x_n\}\},
\]
as well as $n$-fold cartesian products:
\[
A_1 \times \cdots \times A_n =\{(x_1, \dots, x_n) : (\forall i \in \{1,\dots,n\})(x_i \in A_i)\}.
\]

\section{Maps}

The real point of defining things as we have is so we can talk about \emph{maps} as soon as possible.
Maps -- \textsc{aka} \emph{set maps}, \emph{mappings}, \emph{functions} -- are an important notion in set theory.
The idea is that a map $f\colon S \to T$ is a way of taking each element $s\in S$ and associating one and only one element $f(s)\in T$ thereto.

The phrase \emph{there is a unique $x$ such that $\phi(x)$} -- sometimes written $(\exists ! x)(\phi(x))$ -- is a helpful shorthand for the longer sentence
\[
	(\exists x)(\phi(x)) \wedge ((\forall y)(\forall z)((\phi(y)\wedge \phi(z))\implies(y=z))).
\]

\begin{definition}
Let $S$ and $T$, be two sets.
A \emph{map} or \emph{function} $f$ from $S$ to $T$, denoted $f\colon S\to T$, is a subset $\Gamma(f) \subseteq S \times T$ such that for every $x \in S$, there exists a unique $f(x) \in T$ such that $(x,f(x)) \in \Gamma(f)$.
The set $S$ is called the {\it domain} or \emph{source} of $f$, and $T$ is the {\it codomain} or \emph{target} of $f$. The subset $\Gamma(f)$ is called the \emph{graph} of $f$.
\end{definition}

In practice, the way we describe maps is pretty relaxed.
We typically identify the source $S$ and the target $T$, and
then we provide a \emph{rule} for sending elements of $S$ to the associated elements of $T$.
The idea is that for every $ s \in S$, we have to specify a unique $f(s) \in T$ attached to $s$ in the sense that $(s, f(s)) \in \Gamma(f)$.

\begin{example}
We can define a map $f \colon \mathbb{Z}\rightarrow \mathbb{N}_0$ by the rule $f(m)=m^2$.
What this means is that the graph of $f$ is the subset $\Gamma(f) = \{(m,n) \in \mathbb{Z}\times\mathbb{N}_0 : n = m^2\}$.
Note that for each $m \in \mathbb{Z}$, there is of course a unique element $n \in \mathbb{N}_0$ such that $n=m^2$.

On the other hand, it is not sensible to define a map $ g \colon \mathbb{Z} \to \mathbb{Z}$ by a rule like $g(m)^2 = m$.
This would have graph $\Gamma(g) = \{(m,n) \in \mathbb{Z}\times\mathbb{Z} : m = n^2\}$
The trouble here is twofold:
First, there are some integers $m$ such that there is no integer $m$ for which $m = n^2$. (No negative integer has a square root, for instance.)
Second, there are other integers $m$ such that there exists \emph{more than one} integer $n$ such that $m = n^2$. (The integer $4$ has two square roots: $2$ and $-2$.)
\end{example}

\begin{example}
Let $n$ be a natural number.
Recall that $\Z/n$ is the set $\{0,1,\dots,n-1\}$.
Then we may define a map $\mu_n \colon \Z \to \Z/n$ by the rule that for any integer $m$,
\[
\mu_n(m) = m\mbox{ mod }n.\]
In other words, $\mu_n(m)$ is the remainder of $m$ after dividing by $n$.
\end{example}

Sometimes, it's handy to use the following notation:
we may define a map $ f \colon S \to T $ by the \emph{assignment}
\[
	s \mapsto \text{[some formula involving $s$].}
\]

\begin{example}
We may define a map $ e \colon \mathbb{R} \to \mathbb{R}$ by the rule
\[
x \mapsto \exp(-x^2).
\]
\end{example}

\begin{example}
Let $T$ be a set, and let $S \subseteq T$ be a subset.
Then there is a map $i \colon S \to T$ given by the rule $i(x)=x$.
This is called the \emph{inclusion map}.
In the particular case in which $S=T$, the map $i$ is called the \emph{identity} map $\mathrm{id} \colon S \to S$.
\end{example}

Maps can be \emph{composed}.
If $f\colon S \to T$ is a map, and $g\colon T \to U$ is another, then you can \emph{do $f$ first, and then do $g$}.
That is, one can form a new map $g\circ f\colon S \to U$ such that for any $s\in S$, one has
\[
	(g\circ f)(s)= g(f(s)) .
\]
More formally, the graph $\Gamma(g\circ f)$ is given by
\[
	\Gamma(g\circ f)=\{(s,u)\in S\times U : (\exists t\in T)((s,t)\in\Gamma(f)\wedge(t,u)\in\Gamma(g))\}.
\]
It is easy enough to see that $g\circ\mathrm{id}=g$ and $\mathrm{id}\circ f=f$, and moreover composition is associative, so that $(h\circ g)\circ f=h\circ(g\circ f)$.

\section{Injective and surjective}

\begin{definition}
Let $f \colon X\rightarrow Y$ be a function. We say that
\begin{itemize}
\item the map $f$ is \emph{surjective} (or a \emph{surjection} or \emph{onto}) if and only if
\[
(\forall y\in Y)(\exists x\in X)(f(x)=y);
\]
 
\item the map $f$ is \emph{injective} (or an \emph{injection} or \emph{one-to-one}) if and only if
\[
(\forall x,y\in X)((f(x)=f(y)) \implies (x=y));
\]
and

\item the map $f$ is bijective (or a \emph{bijection} or a \emph{one-to-one correspondence}) if and only if it is injective and surjective.
\end{itemize}
\end{definition}

Let $f \colon X \to Y$ be a map.
The map $f$ is an \emph{injection} if and only if, for every element $y \in Y$, there exists at most one element $x \in X$ such that $y =f(x)$.
The map $f$ is a \emph{surjection} if and only if, for every element $y \in Y$, there exists at \emph{least} one element $x \in X$ such that $y = f(x)$.
Finally, the map $f$ is a \emph{bijection} if and only if, for every element $y\in Y$, there exists \emph{exactly one} element $x \in X $ such that $y = f(x)$.
 
\begin{center}
\includegraphics[width=300pt]{Figures/inj-surj.png}
\end{center}

\begin{protip}
When proving that a function $f:X\rightarrow Y$ is injective, start by assuming $x,y\in X$ are such that $f(x)=f(y)$ and show that this implies $x=y$. To show a function is not injective, you just need to find one pair $x\neq y\in X$ with $f(x)=f(y)$.
\end{protip}

\begin{example}
The function $f\colon\mathbb{N}_0\rightarrow \mathbb{N}_0$ defined by $f(n)=n^2$ is injective. To see this, let $x,y\in\mathbb{N}_0$ be such that $f(x)=f(y)$. Then $x^2=y^2$, and so
\[
0=x^2-y^2=(x-y)(x+y)
\]
and since $x+y>0$, this means that $x-y=0$, i.e. $x=y$. Thus $f$ is injective. It is not surjective since there is no $n$ so that $f(n)=2$. \\

If we change the domain from $\mathbb{N}_0$ to $\mathbb{Z}$, then $f:\colon\mathbb{Z}\rightarrow \mathbb{N}_0$ is no longer injective, because $f(-1)=f(1)$. 
\end{example}

\begin{protip}
When proving that a function $f\colon X\rightarrow Y$ is surjective, start by assuming $y$ is some element of $Y$ and show that there must be an $x\in X$ with $f(x)=y$. To show it is not surjective, you just need to exhibit one $y\in Y$ for which $f(x)\neq y$ for all $x\in X$.
\end{protip}

\begin{example}
The function $g\colon\mathbb{R}\rightarrow [-5,+\infty)=\{x\in\mathbb{R}: x\geq -5\} $ defined by $g(x)=x^2+2x-4$ is surjective. Proof: let $y\geq -5$, we need to show there is $x\in\mathbb{R}$ so that $g(x)=y$, that is, so that $x^2+2x-4=y$. We can use the quadratic formula to get that $x$ can be either
\[
x=\frac{-2\pm \sqrt{4+4(4+y)}}{2}
\]
and since $y\geq -5$, the square root is defined and this gives a solution. Thus, since we can find such an $x\in \mathbb{R}$ for every $y\in [-5,\infty)$, this implies $g$ is injective. 

If we change the image to $[-6,+\infty)=\{x\in\mathbb{R} : x\geq -6\}$, then this is not surjective: if $-6=g(x)=x^2+2x-4$ for some $x\in\mathbb{R}$, then the quadratic formula says that $x=-1\pm i$, but these roots are not in the real line. Thus, there is no $x$ so that $g(x)=-6$, and so $g\colon \mathbb{R}\rightarrow [-6,+\infty)$ is not surjective.
\end{example}



The proof of the following result is a good one to study, since it showcases how to prove injectivity and surjectivity for functions. 

\begin{theorem}
Let $f:X\rightarrow Y$ and $g:Y\rightarrow Z$ be functions. 
\begin{enumerate}
\item If $f$ and $g$ are injective, so is $g\circ f$. 
\item If $f$ and $g$ are surjective, so is $g\circ f$.
\item If $f$ and $g$ are bijective, so is $g\circ f$.
\end{enumerate}
\end{theorem}

\begin{proof}
Let $f:X\rightarrow Y$ and $g:Y\rightarrow Z$ be functions. 
\begin{enumerate}
\item Suppose $f$ and $g$ are injective. To show that $g\circ f$ is injective, we need to show that if $g\circ f(x)=g\circ f(y)$, then $x=y$. So suppose $x,y\in X$ are so that $g\circ f(x)=g\circ f(y)$. Then $g(f(x))=g(f(y))$. Since $g$ is injective, this means $f(x)=f(y)$; since $f$ is injective, this implies $x=y$, as desired. This completes the proof that $g\circ f$ is injective.
\item Now suppose $f$ and $g$ are surjective. To show that $g\circ f$ is surjective, we need to show that for all $z\in Z$, there is $x\in X$ so that $z=g\circ f(x)=g(f(x))$. Since $g$ is surjective, there is $y\in Y$ so that $z=g(y)$; since $f$ is surjective, there is $x\in X$ so that $f(x)=y$, and so $g(f(x))=g(y)=z$, as desired. This finishes the proof that $g\circ f$ is surjective. 
\item If $g$ and $f$ are bijective, then they are both injective and surjective, so by the previous two cases, $g\circ f$ is also both injective and surjective, hence $g\circ f$ is bijective. 
\end{enumerate}
\end{proof}

When mathematicians are presented with a set, for many purposes, they won't be too very worried about what the elements are, but what structures they have.
The idea is that a bijection of sets is meant to be a \emph{mere labelling} of the elements of a set $S$ by the elements of a set $T$.
That labelling is meant to be a perfect match of information:
you should never use the same label twice, and
all the labels should be used.
So a \emph{bijection} of sets is a map $f\colon S \to T$ such that for any $t\in T$, there exists a unique $s\in S$ such that $f(s)=t$.

\begin{example}
	Let $S$ and $T$ be two sets.
	There is a bijection $ \sigma \colon S \times T \to T \times S $, which is given by $\sigma(s,t) = (t,s)$.
\end{example}

If $ f \colon S \to T $ is a bijection, then there exists a map $ g \colon T \to S $ such that $g \circ f = \mathrm{id} $, and $f \circ g = \mathrm{id}$.
To prove this, let us construct $g$:
the function $f $ gives us a subset $\Gamma(f) \subseteq S \times T$ such that for any $s \in S$, there exists a unique $ t \in T$ such that $(s, t) \in \Gamma(f)$.
So now let's define $g = (T, S, \Gamma(g))$, where $\Gamma(g) = \{ (t,s) \in T \times S : (s, t) \in \Gamma(f) \}$.
Of course $\Gamma(g)$ makes perfect sense as a subset, but we aren't done:
we have to show it is a map from $S$ to $T$.
For this we can use the fact that, since $f$ is a bijection, for every $t \in T$, there exists a unique $s \in S $ such that $(s,t) \in \Gamma(f)$.
In other words, for every $t \in T$, there exists a unique $s \in S $ such that $(t,s) \in \Gamma(g)$.
Thus if $t \in T$, then $g(t) \in S$ is the unique element such that $f(g(t) = t$.
Thus $f \circ g = \mathrm{id}$.
To see that $g \circ f = \mathrm{id}$, let $ s \in S$;
then $g(f(s)) \in S$ is the unique element such that $f(g(f(s))) = f(s)$. 
But since this element of $S$ is \emph{unique} with this property, it follows that $g(f(s)) = s $.

The converse is also correct: if $f \colon S \to T$ is a map such that there exists a function $g \colon T \to S $ such that $g \circ f =\mathrm{id} $ and $f \circ g = \mathrm{id}$, then $f$ is a bijection.
Indeed, let $t \in T$ be an element;
we aim to prove that there exists a unique element $ s \in S$ such that $t = f(s)$.
The function $g$ provides us with exactly such an element: $g(t) \in T$ is an element, and $t = f(g(t))$.
Now suppose that $s'\in S$ is an element such that $t = f(s')$;
we see that $g(t) = g(f(s')) = s'$, so we have the uniqueness we sought!

In this case, we say that $g$ is the \emph{inverse} of $f$, and we sometimes write $f^{-1}$ for $g$.


\section{Images and preimages}

\begin{definition}
If $f\colon X\rightarrow Y$ and $A\subseteq X$,  the  \emph{image of $A$} under $f$ is  the set
\[
  f(A)=\{f(x):x\in A\} \subseteq Y.
\]
If $B\subseteq Y$, the  \emph{preimage of $B$} under $f$ is
\[
f^{-1}(B)=\{x\in X: f(x)\in B\} \subseteq X.
\]
\end{definition}

Some authors call the preimage the \emph{inverse image}.


This notation is a little ambiguous since we have already let $f^{-1}$ denote the inverse of a bijective function $f$, whereas now we are using it to denote the preimage of a set under a function $f$ that might not be bijective. However, notice that their meaning can be deciphered from context: if $f\colon X\rightarrow Y$ and we ever write $f^{-1}(y)$ for an {\it element} $y\in Y$, you know we are referring to $f^{-1}$ as a function, and if we write $f^{-1}(A)$ for a {\it set $A$}, you know we are talking about the preimage as defined above. Notice also that if $f$ is bijective so that the function $f^{-1}$ exists, then there are two ways of reading what $f^{-1}(A)$ means: it is the image of $A$ under $f^{-1}$, and it is the preimage of $A$ under $f$, but in this case, these two are the same set, so there is no ambiguity.




\begin{example}
If  $f\colon\mathbb{N}\rightarrow \mathbb{N}$ is $f(n)=n+1$, and $A=\{2n:n\in\mathbb{N}$ are the even integers, then the image of $A$ under $f$ is 
\[
f(A)=\{f(n):n\in A\} = \{f(2n): n\in\mathbb{N}\} = \{2n+1:n\in\mathbb{N}\},\]
that is, $f(A)$ are the odd integers. 
\end{example}


\begin{theorem}
Let $f:X\rightarrow Y$ be a function and $A,B\subseteq Y$. Then
\[
f^{-1}(A\cap B)=f^{-1}(A)\cap f^{-1}(B)
\]
and 
\[
f^{-1}(A\cup B)=f^{-1}(A)\cup f^{-1}(B)
\]
\end{theorem}

\begin{proof}
To show the first equality, note that $x\in f^{-1}(A\cap B)$ if and only if $f(x)\in A\cap B$, that is, $f(x)\in A$ and $f(x)\in B$, which is true if and only if $x\in f^{-1}(A)$ and $x\in f^{-1}(B)$, that is, if and only if $x\in f^{-1}(A)\cap f^{-1}(B)$. Thus, $f^{-1}(A\cap B)=f^{-1}(A)\cap f^{-1}(B)$. The second equation has a similar proof (basically just change the "and's" to "or's").
\end{proof}



\section{Comparing sizes of sets with functions}

%\indent One of the main reasons that we wish to do so is that they give us a way of comparing sizes of sets to each other. Take for example the meaning of {\it finite}: A set $S$ is finite if we can count off the elements as $S=\{s_{1},s_{2},...,s_{n}\}$. Implicitly, the act of counting defines a function $f(j)=s_{j}$ from $\{1,2,...,n\}$ to $S$. That is, $S$ if finite because we are able to construct a function from the first $n$ integers to $S$ that pairs an element from one set with one from the other. 

In the earlier diagram, note that whenever the function is injective there has to be at least as many elements in $B$ as there are in $A$, otherwise the arrows from $A$ couldn't point to distinct points in $B$. Similarly, when the function is surjective, there needs to be at least as many points in $A$ as there are in $B$, since the number of arrows (and hence the number of places they point to in $B$) is at most the size of $A$. We make this more precise in the following theorem. For a finite set $A$, we will let $|A|$ equal the size of $A$, that is, the number of elements in $A$.

\begin{theorem}
\label{t:f-size}
Let $X$ and $Y$ be finite sets and let $f:X\rightarrow Y$ be a function. 

\begin{enumerate}
\item If $f$ is injective, then $|X|\leq |Y|$.
\item If $f$ is surjective, then $|X|\geq |Y|$. 
\item If $f$ is bijective, then $|X|=|Y|$.
\end{enumerate}
\end{theorem}

\begin{proof}
Since $X$ is finite, we may number the elements $\{x_{1},...,x_{n}\}$ where $n=|X|$. 
\begin{enumerate}
\item If $f$ is injective, then the element $f(x_{1}),...,f(x_{n})$ are distinct, so there are exactly $n$ elements in the set $S=\{f(x_{1}),...,f(x_{n}))\}$, and since this is a subset of $Y$, $Y$ must have at least as many elements as $S$, so $|Y|\geq n=|X|$. 
\item If $f$ is surjective, then if we number the elements $Y=\{y_{1},...,y_{m}\}$ where $m=|Y|$, then for each $i=1,...,m$, there is $s_{i}\in X$ so that $f(s_{i})=y_{i}$. Each of the $s_{i}$ are distinct, since otherwise if $s_{i}=s_{j}$, for some $i\neq j$, then $y_{i}=f(s_{i})=f(s_{j})=y_{j}$, which is a contradiction since $y_{i}$ and $y_{j}$ are distinct. Thus, there are $m$ distinct elements $s_{1},...,s_{m}$ in $X$, and so $|X|\geq m=|Y|$. 
\item This follows by combining (1) and (2). 
\end{enumerate}

\end{proof}


\section{Equivalence Relations}

In this section we will talk about relations. A relation, loosely speaking, is a way two things are connected to each other, and there are many different ways that things can be related. The relation "=" is an example, two things are related via "=" if they are actually equal. Another example is the relationship that one number is at most another, and we write $a\leq b$ when we want to say $a$ and $b$ are related in this way. A less mathematical example is the relation "daughter of," so for example "$a$ is the daughter of $b$", let's denote this relationship by $a\sim b$. 

Now we give a precise definition of a relation.

\begin{definition}
A {\it relation} $R$ on a set $S$ is just a subset of $S\times S$. Given $a,b\in S$, we write $aRb$ if $(a,b)\in R$.
\end{definition}

This may seem like a strange way of defining relations, but this definition encapsulates what we do when we define a relation: a relation is a specific way of pairing up elements of a set. In the earlier example, the daughter-of relation is the set of all pairs of people $(a,b)$ where $a$ is the daughter of $b$. Another familiar example is $\leq$: we declare $a\leq b$ if the pair $(a,b)$ is among the set of pairs where $a$ is at most $b$. 

Below we mention some important properties relations can have:

 \begin{definition}
 Let $S$ be a set. Let $\sim$ be a relation on $S$. We say $\sim$ is 
\begin{itemize}
\item {\it reflexive} if $a\sim a$ for all $a\in S$,
 \item {\it symmetric} if for all $a$ and $b$ in $S$,  we have $
a\sim b  \Longleftrightarrow  b\sim a$, and
 \item {\it transitive} if for all $a$, $b$, $c$ in $S$,  we have
\[
a\sim b\sim c\Longrightarrow  a\sim c.\]
\end{itemize}
If $\sim$ satisfies all three of these properties, we say $\sim$ is an {\it equivalence relation}.
\end{definition}

The relations we discussed earlier satisfy different combinations of these properties.

\begin{example}
\item Equality is an equivalence relation. We also showed last week that $\equiv \mod m$ is an equivalence relation. 
\item $"\leq"$ is reflexive and transitive but not symmetric ($1\leq 2$ but $2\not\leq 1$). 
\item The daughter-of relation $\sim$ is not symmetric: if $a$ is the daughter of $b$, then $b$ is certainly not the daughter of $a$, and it is certainly not reflexive since no one is the daughter of themselves. Also,and the daughter-of relation is not transitive (if $a$ is the daughter of $b$ and $b$ is the daughter of $c$, that does not mean $a$ is the daughter of $c$). 
\end{example}

The moral here is that a relation does not necessarily satisfy all or any of the three properties above. So whenever we define a relation, we need to check these properties carefully.


\begin{protip}
{\bf Disproving properties:} Remember that to disprove a statement like $\forall x\;\; P$, you want to prove the negation, which is $\exists x\mbox{ s.t. } \bar{P}$. Hence, to disprove a property like symmetry, it suffices to just find {\it one} pair $a$ and $b$ for which $a\sim b$ but $b\not\sim a$. In the previous example, clearly $\leq  $ does not satisfy symmetry for more than just the numbers $1$ and $2$, but to verify that symmetry fails, we only need to show it fails for one pair.
\end{protip}



{\bf Why care?} Relations and equivalence relations come about when there is a collection of objects and you would like to treat many of them as really the same object. Take for example the rational numbers $\mathbb{Q}$, these are the sets of fractions $\frac{p}{q}$ where $p\in\mathbb{Z}$ and $q\in \mathbb{N}$. But notice that the notation $\frac{p}{q}$ is really just an ordered pair, we could have also just written $(p,q)$. But we know that several fractions should give the same number, that is $\frac{2}{1}=\frac{4}{2}$. Really what we're doing here is defining an equivalence relation "=" by saying $\frac{p}{q}=\frac{r}{s}$ if there is an integer $a$ so that either $(p,q)=(ar,as)$ or $(r,s)=(ap,aq)$. We will also see in the next chapter that functions are also relations. You'll see more important examples in future classes. 

\def\cl{{\rm cl}}



\begin{definition}
If $\sim$ is an equivalence relation on a set $S$ and $x\in S$, the {\it equivalence class} of $x$ is 
\[
\cl(x) = \{y\in S : x\sim y\}.
\]
The set of {\it equivalence classes} is the set $X/{\sim} = \{\cl(x) : x\in S\}$.
This set comes with a map $\cl \colon X \to X/{\sim}$.
\end{definition}

As long as $X \neq \varnothing$ the map $\cl$ is a surjection.

\begin{example}
Consider the relation on people that $a\sim b$ if $a$ and $b$ were born in the same country. One can check this is an equivalence relation. What if we want to describe the equivalence classes? We could just say "they are the sets $\cl(x)$ where $x$ ranges over all people" but this is not helpful in general; this says no more about the relation or what the classes look like than making the same statement about any other relation. A more natural way of describing the equivalence classes is that they are just the sets of people born in a given country, that is, they are the sets $A_x$ of people born in country $x$ as $x$ ranges over all countries.
\end{example}

Note that in the previous example, the relation partitioned people into disjoint groups based on their country of birth. This happens with all equivalence relations.



\begin{example}
Consider the equivalence relation on $\mathbb{Z}$ defined by $\equiv \mod m$ where $m\in\mathbb{N}$. What are the equivalence classes? If $x\in \mathbb{Z}$, then the equivalence class associated to $x$ is 
\begin{align*}
\cl(x)  
&  =\{ y\in\mathbb{Z} : x\equiv y \mod m\}\\
& = \{y\in\mathbb{Z} : y=x+mj\mbox{ for some integer }j\} \\
& = \{x+mj : j\in\mathbb{Z}\}.
\end{align*}
Notice that for each $x$ there is $i\in \{0,1,...,m-1\}$ so that $x\equiv i\mod m$, and so $\cl(x) = \cl(i)$. Thus, all equivalence classes are one of 
\[
\cl(0),\cl(1),...,\cl(m-1)
\]
that is, they are the sets of arithmetic progressions of the form $...,i-2m,i-m,i,i+m,i+2m,...$ for some $i\in \{0,1...,m-1\}$.
Observe that $i \mapsto \cl(i)$ defines a bijection from $\Z/m = \{0,1,\dots,m\}$ to the set $\{\cl(0),\dots,\cl(m-1)\}$.
In this way, we think of $\Z/m$ as the ``set of integers, modulo $m$.''
\end{example}



\section{Exercises}

The relevant exercises in Liebeck's book are in Chapter 19. 





\begin{exercise}
 Consider the following functions. Decide whether each composition is 1-1, onto, both or neither. Do any of the compositions have an inverse function?

\begin{enumerate}[label=(\alph*)]
\item $f_1 \colon \R \to \Z$ defined by $f_1(x) = \lfloor x \rfloor$
\item $f_2 \colon \Z \to \Z$ defined by $f_2(x) = x+1$
\item $f_3 \colon \Z \times \Z \to \Z$ defined by $f_3(x,y) = xy$
\item $f_4 \colon \R \to \Z \times \Z$ defined by $f_4(x) = (\lfloor x \rfloor, \lceil x \rceil)$
\item $f_5 \colon \{ 1,\dots,10\} \to \{0,1\}$ defined by $f_5(x) = \begin{cases} 0 & \text{ if }x \text{ is even} \\1 & \text{ if }x \text{ is odd} \end{cases}$
\item $f_6 \colon \{0,1\} \to \{ 1,\dots,10\}$ defined by $f_6(0) = 10$, $f_6(1) = 7$
\end{enumerate}

\begin{solution}
We can form the composition of $f \colon A \to B$ and $g \colon C \to D$ if and only if $B=C$. In some of the above examples we have that $B \subset C$. In this case, although we can morally do the composition, in practice we would need to do the composition $g \circ f' \circ f \colon A \to D$ where $f' \colon B \to C$ is defined by $f'(x)=x$.

Therefore the valid compositions are
\begin{enumerate}[label=(\alph*)]
 \item $f_2 \circ f_1 \colon \R \to \Z$ defined by $f_2 \circ f_1(x) = \lfloor x \rfloor + 1$. This is not 1-1 since 1 and 1.5 have the same image. It is onto, because $n-1$ maps to $n$ for every $n \in \Z$.
\item $f_2 \circ f_2 \colon \Z \to\Z$ defined by $f_2 \circ f_2(x) = x+2$. It is both 1-1 and onto, so is a bijection. Its inverse is the function $f'\colon \Z \to \Z$ defined by $f'(x) = x-2$.
 \item $f_2 \circ f_3 \colon \Z \times \Z \to \Z$ defined by $f_2 \circ f_3(x,y) = xy+1$. Not 1-1, since $(1,1)$ and $(-1,-1)$ have the same image. It is onto, since $(x-1,1)$ maps to $x$ for all $x \in \Z$.
 \item $f_3 \circ f_4 \colon \R \to \Z$ defined by $f_3 \circ f_4 (x) = \lfloor x \rfloor \lceil x \rceil$. Not 1-1, since 0.1 and 0.2 have the same image. Not onto, because we can only get products of consecutive integers. So, for example, there is no $x$ which maps to $14 = 2 \times 7$.
 \item $f_6 \circ f_5 \colon \{1,\dots, 10\} \to \{1,\dots, 10\}$ defined by $f_6 \circ f_5(x) = \begin{cases} 10 & \text{ if }x \text{ is even} \\7 & \text{ if }x \text{ is odd} \end{cases}$. This is not 1-1 since 2 and 4 have the same image. It is not onto because nothing maps to 1.
 \item $f_5 \circ f_6 \colon \{0,1\} \to \{0,1\}$ defined by $f_5 \circ f_6(0) = 0$, $f_5 \circ f_6(1) = 1$. This is both 1-1 and onto and is its own inverse function. (So just because $f \circ g$ is bijective, doesn't mean $g \circ f$ is bijective!)
\end{enumerate}

\end{solution}






\end{exercise}


%\begin{exercise}
%Show that if $f:X\rightarrow Y$ and $g:Y\rightarrow Z$ are  functions, $g\circ f$ is injective, and $f$ is surjective, then $g$ and $f$ are bijections. 
%
%
%\end{exercise}


\begin{exercise} Let $f:X\rightarrow Y$ be a function. 

\begin{enumerate}[label=(\alph*)]
\item Show that $f$ is injective if and only if for all sets $Z$ and functions $g,h:Z\rightarrow Y$, $f\circ g=f\circ h$ implies $g=h$. 
\item Show that $f$ is surjective if and only if for all sets $Z$ and functions $g,h:Y\rightarrow Z$, $g\circ f = h\circ f$ if and only if $g=h$. 
\end{enumerate}


\end{exercise}




\begin{exercise}
Let $f:X\rightarrow Y$. 
\begin{enumerate}[label=(\alph*)]
\item Show that $f(f^{-1}(B))\subseteq B$ for all $B\subseteq Y$, and give an example of an $f:X\rightarrow Y$ and a set $B\subseteq Y$ where $f(f^{-1}(B))\neq B$.
\begin{solution}
Note that $f^{-1}(B)=\{x\in X|f(x)\in B\}$, so if $x\in f^{-1}(B)$, $f(x)\in B$, hence $f(f^{-1}(B))\subseteq B$. 

If we let $f=\cos:\mathbb{R}\rightarrow \mathbb{R}$ and $B=[2,3]$, then $f^{-1}(B)=\emptyset$, so $f(f^{-1}(B))=\emptyset\neq B$.
\end{solution}
\item Show that $f(f^{-1}(B))=B$ for all $B\subseteq Y$ if and only if $f$ is surjective.
\begin{solution}
Suppose $f$ is surjective. Then for all $y\in B$ there is $x\in X$ so that $f(x)=y$. This means $x\in f^{-1}(B)$ since $f(x)=y\in B$.  This means $y=f(x)\in f(f^{-1}(B))$ for all $y\in B$, thus $B\subseteq f(f^{-1}(B))$, and by (a) we then know $B = f(f^{-1}(B))$. 
\end{solution}
\end{enumerate}
\end{exercise}




\begin{exercise}
Let $f:X\rightarrow Y$. 
\begin{enumerate}[label=(\alph*)]
\item Show that $f^{-1}(f(A))\supseteq A$ for all $A\subseteq X$, and show that these two sets can be unequal.
\begin{solution}
Note that $f^{-1}(f(A))$ is the set of $z\in X$ for which $f(z)\in f(A)$, which includes $A$. If we let $f=\cos:\mathbb{R}\rightarrow \mathbb{R}$ again but let $A=[0,2\pi]$, then $f(A)=[-1,1]$, and $f^{-1}(f(A))=\mathbb{R}\neq A$.
\end{solution}
\item Show that $f^{-1}(f(A))=A$ for all $A\subseteq X$ if and only if $f$ is injective. 
\end{enumerate}
\end{exercise}




\begin{exercise} Let $X$ and $Y$ be finite sets, $m\in \mathbb{N}$, and suppose $f:X\rightarrow Y$ is a function such that for all $y\in Y$, $|f^{-1}(\{y\})|=m$ . Then
\[
|X|=m\cdot |Y|.\]


\begin{solution}


If we number the elements of $Y$ as $y_{1},...,y_{n}$ where $n=|Y|$. Then the sets $f^{-1}(\{y_{1}\}),f^{-1}(\{y_{2}\}),...,f^{-1}(\{y_{n}\})$ partition $X$. Thus,
\[
|X|=\sum_{i=1}^{n}| f^{-1}(\{y_{i}\})| = \sum_{i=1}^{n}m=nm=m|Y|
\]
\end{solution}


\end{exercise}



\begin{exercise}
Let $f:X\rightarrow Y$ be a function and $A,B\subseteq X$. Show that $f(A\cup B)=f(A)\cup f(B)$. Give an example of when we can have $f(A\cap B)\neq f(A)\cap f(B)$. 
\end{exercise}





\begin{exercise} Let $f:X\rightarrow Y$ be a function. For $a,b\in X$, declare $a\sim b$ if $f(a)=f(b)$. 
Show that $\sim$ defines an equivalence relation on $X$. 


\begin{solution}
{\bf Claim:}Let $f:X\rightarrow Y$ be a function. For $a,b\in X$, delcare $a\sim b$ if $f(a)=f(b)$. Then $\sim$ defines an equivalence relation on $X$. 


\begin{proof}
We need to verify reflexivity, symmetry, and transitivity:
\begin{itemize}
\item (Reflexivity) Let $x\in X$. Since $f(x)=f(x)$, we have $x\sim x$, so reflexivity holds.
\item (Symmetry) Let $x,y\in X$ and suppose $x\sim y$. Then $f(x)=f(y)$, so $f(y)=f(x)$, thus $y\sim x$ and symmetry holds. 
\item (Transitivity)  Let $x,y,z\in X$ and suppose $x\sim y$ and $y\sim z$. Then $f(x)=f(y)=f(z)$, so $f(x)=f(z)$, hence $x\sim z$. This proves transitivity. 
\end{itemize}
\end{proof}
\end{solution}



\end{exercise}


\begin{exercise}  Let $f:X\rightarrow Y$ and $\sim$ be as in the previous problem.  For $y\in f(X)$, define  $F(y)=f^{-1}(\{y\})$ (where recall $f^{-1}(A)=\{x\in X: f(x)\in A\}$).  Show that $F$ is a bijection between $f(X)$ and the set of equivalence classes in $X$ under the relation $\sim$. {\it Hint: 
As a first step, you'll need to show the values of $F$ are indeed equivalence classes. }



\begin{solution}

For short, we will write $f^{-1}(y)$ to mean $f^{-1}(\{y\})$. 
{\bf Claim:} Let $S$ denote the set of equivalence classes under $\sim$. Let $y\in f(X)$ and define  $F(y)=f^{-1}(y)$. Then $F:f(X)\rightarrow S$ is a bijection. 


\begin{proof}
For $y\in f(X)$, $f^{-1}(y)$ is an equivalence class: since $y\in f(X)$, $y=f(x)$ for some $x\in X$, and if $[x]$ denotes the equivalence class for $x$,
\[
[x]=\{z\in X:x\sim z\} = \{z\in X:f(z)=f(x)\}
= \{z\in X:f(z)=y\}
 =f^{-1}(\{y\}).
 \]
hence $F$ is a function from $f(X)$ to $S$. We need to show that it is injective and surjective:

\begin{itemize}
\item (Injectivity) Let $y,z\in f(X)$ and suppose $F(y)=F(z)$, we will show that $y=z$. Since $F(y)=F(z)$, this means $f^{-1}(y)=f^{-1}(z)$. Let $x\in f^{-1}(y)$, so $f(x)=y$. But then $x\in f^{-1}(y)=f^{-1}(z)$, so $f(x)=z$, thus $y=f(x)=z$. This proves injectivity. 
\item (Surjectivity) Let $[x]\in S$ be an equivalence class. Let $y=f(x)$. Then $[x]=f^{-1}(y)$ and $y\in f(X)$. Thus, $F(y)=f^{-1}(y)=[x]$. This implies surjectivity. 
\end{itemize} 
\end{proof}





\end{solution}
\end{exercise}




\begin{exercise} Show that $f:\mathbb{R}\rightarrow \mathbb{R}$ defined by $f(x)=x^{2n+1}$ is bijective for $n\in\mathbb{N}$. 

\begin{solution}
Recall that 
\[
1+z+\cdots + z^{n} = \frac{1-z^{n+1}}{1-z}
\]
and so if $x\neq y$, and $x\neq 0$, applying this formula with $z=(y/x)^2$,
\[
x^{2n+1} - y^{2n+1} = x^{2n+1} \left(1-\left(\frac{y}{x}\right)^{2n+1}\right)
= x^{2n+1} \left(1-\left(\frac{y}{x}\right)^2\right)\left(1+\left(\frac{y}{x}\right)^2+\cdots + \left(\frac{y}{x})^{2n}\right)\right).
\]
and this can't be zero if $x\neq 0$ and $x\neq y$. If $x=0$ and $y\neq x=0$, then we clearly have $f(x)\neq f(y)$. Thus, $f$ is injective.
\end{solution}


\end{exercise}


%\begin{exercise} Show that the following functions are bijective:
%
%\begin{enumerate}[label=(\alph*)]
%\item $f:\mathbb{H}\rightarrow \mathbb{D}$ where $\mathbb{H} = \{x+iy\in \C: y>0\}$, $\mathbb{D}=\{z\in\C:|z|<1\}$, and $f(z)=\frac{z+i}{z-i}$. 
%
%\item $f:\mathbb{H}\rightarrow \C\backslash (0,\infty)$ (that is, $\mathbb{C}\backslash (0,\infty)$ is the set of all complex numbers minus the positive real numbers) and $f(z)=z^2$.
%
%\end{enumerate}

%\end{exercise}


\begin{exercise} {\bf Quite Challenging!} Find bijections between the following sets:

\begin{enumerate}[label=(\alph*)]
\item $\R$ and $(0,\infty)$

\begin{solution}
Let $f:(0,\infty) \rightarrow \R $ be $f(x)=x-\frac{1}{x}$. Then $f$ is increasing, so it is injective. Furthermore, if $y\in \R$, we can solve $f(x)=y$ by solving the equation
\[
y= x-\frac{1}{x},
\]
and rearranging, this is equivalent to 
\[
0=x^2-yx-1,\]
which has solution
\[
x=\frac{y\pm\sqrt{y^2+4}}{2},\]
and one of these solutions is in $(0,\infty)$, thus $f$ is surjective, and hence bijective. 
\end{solution}

\item $(0,\infty)$ and $(1,\infty)$

\begin{solution}
We can take $f:(0,\infty)\rightarrow (1,\infty)$ to be $f(x)=x+1$. 
\end{solution}

\item ({\bf Even more challenging!}) $(0,\infty)$ and $[0,\infty)$

\item $(0,\infty)$ and $(0,1)$.
\end{enumerate}



\end{exercise}


\begin{exercise}
 The following argument supposedly shows that the reflexivity condition is unnecessary for a nonempty relation $\sim$, that is, it can be derived from symmetry and transitivity:

(a) Suppose $a\sim b$.

(b) By symmetry, $b\sim a$. 

(c) Since $a\sim b$ and $b\sim a$, by transitivity, $a\sim a$. Therefore, $\sim $  is reflexive. 

What's wrong with this argument? 

\begin{solution}
The problem with this argument is (a), as it asserts that, for every $a$, there is a $b$ so that $a\sim b$. But not every relation requires every element to be related to something. 

A counter example could be the relation on $\{1,2\}$ where only $1\sim 1$ (so $2\not\sim 2$ and $2\not\sim 1$). Then it is symmetric and transitive, but not reflexive. 
\end{solution}
\end{exercise}



\begin{exercise}
Determine which of the following relations $\sim$ on the given set $S$ are reflexive, symmetric, or transitive.
\begin{enumerate}
\item $S$ is the set of lines in $\mathbb{R}^{2}$ and $a\sim b$ if they intersect.
\item $S=\mathbb{C}\backslash \{0\}$ and $x\sim y$ if $x$ and $y$ are contained in the same line passing through the origin.
\item $S$ is the set of subsets of $\mathbb{R}$ and $A\sim B$ if $A\subseteq B$.  

\end{enumerate}

\end{exercise}





%
%\begin{exercise}
%Let $X,Y,Z$ be sets, and let $f:X\to Y$ and $g:Y\to Z$ be functions.
%
%\begin{enumerate}[label=(\alph*)]
%\item Given that $g\circ f$ is onto (=surjective), can you deduce $f$ is onto?
%
%\item Given that $g\circ f$ is onto (=surjective), can you deduce $g$ is onto?
%
%\item Given that $g\circ f$ is 1-1 (=injective), can you deduce that $f$ is 1-1?
%
%\item Given that $g\circ f$ is 1-1 (=injective), can you deduce that $g$ is 1-1?
%\end{enumerate}
%{\bf Note:} As always, you must prove your assertion either way in the above two problems.  If yes, give a general proof, if no, give a counter-example. As a hint, you should be able to get a complete intuition for what's going on (and set of counter-examples) by considering sets of size at most $2$.
%\end{exercise}
%
%
%
%\begin{solution}
%We claim that
%
%(a) There exists sets $X, Y, Z$, and functions $f:X\to Y$ and $g:Y\to Z$ with $g\circ f$ surjective but $f$ not surjective.
%
%(b) For any composable functions $f:X\to Y$ and $g:Y\to Z$, if $g\circ f$ is surjective, then $g$ is onto.
%
%(c) For any composable functions $f$ and $g$, if $g\circ f$ is injective (=injective), then $f$ is injective.
%
%(d) There are sets $X, Y, Z$, and functions $f$ and $g$ with $g\circ f$ injective (=injective), but $g$ not injective.
%
%
%\begin{proof}
%(a) Let $X=\{1\}, Y=\{1,2\}, Z=\{1\}$.  Let $f:X\to Y$ send $1$ to $1$, and let $g:Y\to Z$ send both elements to $1$.  Then clearly $g\circ f$ is surjective but $f$ is not, as it does not hit $2$ in $Y$.
%
%(b) To show that $g$ is surjective, we need to show that for all $z\in Z$ there is $y\in Y$ so that $g(y)=z$. Since $g\circ f$ is surjective, there is $x\in X$ so that $g\circ f(x)=g(f(x))=z$. Since $f(x)\in Y$, we have that $y=f(x)$ is such that $g(y)=z$, and this finishes the proof. 
%%We prove the contrapositive.  Suppose there is an element $z$ in $Z$ which is not in the image of $g$.  Then there is no $y\in Y$, which maps to it under $g$, and hence no $x$ which maps to $z$ under $g\circ f$.
%
%
%
%(c) To show that $f$ is injective, we need to show that for all $x,y\in X$, if $f(x)=f(y)$, then $x=y$. So let $x,y\in X$ and suppose $f(x)=f(y)$. Then $g\circ f(x)=g(f(x))=g(f(y))=g\circ f(y)$, and since $g\circ f$ is injective, we have $x=y$. This finishes the proof. 
%
%%We again prove the contrapositive.  Supose $f$ is not $injective$.  Then there exists $x_1\neq x_2\in X$ with $f(x_1)=f(x_2)$, hence 
%%$g(f(x_1))=g(f(x_2))$.
%(d) The same example as in (a) works.
%
%
%\end{proof}
%
%
%\end{solution}








\chapter{Applications: What's bigger than $\infty$?*}

This section is not required reading, but it is a preview into another aspect of mathematics that you will learn about later: cardinality

Consider the following question: {\it How do we compare sizes of infinite sets?} The sets $\mathbb{N}$, $\mathbb{Q}$, and $\mathbb{R}$ are all infinite, but is any one {\it more infinite} than the other? 

We first need a notion of size. Recall that in Theorem \ref{t:f-size} we showed how two finite sets that have a bijection between them have the same size. We use this idea to define when two infinite sets have the same size:

\begin{definition}
We say two sets $A$ and $B$ have the same {\it cardinality} if there is a bijective function $f:A\rightarrow B$, and we write $|A|=|B|$ or $A\sim B$. If there is an injective man $f:A\rightarrow B$, we write $|A|\leq |B|$, and if $|A|\leq |B|$ and there is no injective map from $B$ to $A$, we write $|A|<|B|$.

When $A\sim \mathbb{N}$, we say $A$ is {\it countable}. 
\end{definition}

\begin{exercise}
Show that the relation $\sim$ is an equivalence relation on the collection of sets. 
\end{exercise}

The word {\it countable} comes from the fact that, if $A\sim \mathbb{N}$, then there is a bijection $f:\mathbb{N}\rightarrow A$, and so 
\[
A=\{f(1),f(2),...\},\]
that is, we can count off the elements of $A$ in a list. 

\begin{example}
We will show $\mathbb{Z}\sim \mathbb{N}$ by constructing an explicit bijection from $\mathbb{Z}$ to $\mathbb{N}$. Let
\[
f(n) = \left\{ \begin{array}{cl} 
2n & n\geq 0 \\
-2n+1 & n<0\end{array}\right.
\]
\end{example}

More surprising is the following:
\begin{theorem}
$\Q\sim \N$.
\end{theorem}


\begin{proof}
The proof of this uses the so-called ``zig-zag" trick: Write all the rational numbers in an infinite array, and then start listing all the rationals by going up and down each diagonal as follows:


 Let us add draw arrows in this infinite matrix as
follows

$$\xymatrixrowsep{0.2cm}
\xymatrixcolsep{0.3cm}\xymatrix{
&\frac{1}{1}\ar@{->}[r] &\frac{2}{1}\ar@{->}[dl]&\frac{3}{1}\ar@{->}[r] &\frac{4}{1}\ar@{->}[dl]&\frac{5}{1}\ar@{->}[r] & \frac{6}{1}\ar@{->}[dl]& \frac{7}{1}\ar@{->}[r] & \frac{8}{1}\ar@{->}[dl]& \frac{9}{1}\ar@{->}[r] & \frac{10}{1}\ar@{->}[dl]& \frac{11}{1}\ar@{->}[r] &\cdots\ar@{->}[dl]&\\
&\frac{1}{2}\ar@{->}[d] &\frac{2}{2}\ar@{->}[ur]&\frac{3}{2}\ar@{->}[dl]&\frac{4}{2}\ar@{->}[ur]&\frac{5}{2}\ar@{->}[dl]& \frac{6}{2}\ar@{->}[ur]& \frac{7}{2}\ar@{->}[dl]& \frac{8}{2}\ar@{->}[ur]& \frac{9}{2}\ar@{->}[dl]& \frac{10}{2}\ar@{->}[ur]& \frac{11}{2}\ar@{->}[dl]&\cdots &\\
&\frac{1}{3}\ar@{->}[ur]&\frac{2}{3}\ar@{->}[dl]&\frac{3}{3}\ar@{->}[ur]&\frac{4}{3}\ar@{->}[dl]&\frac{5}{3}\ar@{->}[ur]& \frac{6}{3}\ar@{->}[dl]& \frac{7}{3}\ar@{->}[ur]& \frac{8}{3}\ar@{->}[dl]& \frac{9}{3}\ar@{->}[ur]& \frac{10}{3}\ar@{->}[dl]& \frac{11}{3}\ar@{->}[ur]&\cdots\ar@{->}[dl] &\\
&\frac{1}{4}\ar@{->}[d] &\frac{2}{4}\ar@{->}[ur]&\frac{3}{4}\ar@{->}[dl]&\frac{4}{4}\ar@{->}[ur]&\frac{5}{4}\ar@{->}[dl]& \frac{6}{4}\ar@{->}[ur]& \frac{7}{4}\ar@{->}[dl]& \frac{8}{4}\ar@{->}[ur]& \frac{9}{4}\ar@{->}[dl]& \frac{10}{4}\ar@{->}[ur]& \frac{11}{4}\ar@{->}[dl]&\cdots &\\
&\frac{1}{5}\ar@{->}[ur]&\frac{2}{5}\ar@{->}[dl]&\frac{3}{5}\ar@{->}[ur]&\frac{4}{5}\ar@{->}[dl]&\frac{5}{5}\ar@{->}[ur]& \frac{6}{5}\ar@{->}[dl]& \frac{7}{5}\ar@{->}[ur]& \frac{8}{5}\ar@{->}[dl]& \frac{9}{5}\ar@{->}[ur]& \frac{10}{5}\ar@{->}[dl]& \frac{11}{5}\ar@{->}[ur]&\cdots\ar@{->}[dl]&\\
&\frac{1}{6}\ar@{->}[d] &\frac{2}{6}\ar@{->}[ur]&\frac{3}{6}\ar@{->}[dl]&\frac{4}{6}\ar@{->}[ur]&\frac{5}{6}\ar@{->}[dl]& \frac{6}{6}\ar@{->}[ur]& \frac{7}{6}\ar@{->}[dl]& \frac{8}{6}\ar@{->}[ur]& \frac{9}{6}\ar@{->}[dl]& \frac{10}{6}\ar@{->}[ur]& \frac{11}{6}\ar@{->}[dl]&\cdots &\\
&\frac{1}{7}\ar@{->}[ur]&\frac{2}{7}\ar@{->}[dl]&\frac{3}{7}\ar@{->}[ur]&\frac{4}{7}\ar@{->}[dl]&\frac{5}{7}\ar@{->}[ur]& \frac{6}{7}\ar@{->}[dl]& \frac{7}{7}\ar@{->}[ur]& \frac{8}{7}\ar@{->}[dl]& \frac{9}{7}\ar@{->}[ur]& \frac{10}{7}\ar@{->}[dl]& \frac{11}{7}\ar@{->}[ur]&\cdots &\\
& \vdots                & \vdots\ar@{->}[ur]    &    \vdots             & \vdots \ar@{->}[ur]   &   \vdots              &   \vdots\ar@{->}[ur]   &   \vdots               &   \vdots\ar@{->}[ur]   &   \vdots               &   \vdots\ar@{->}[ur]    &   \vdots    & \ddots &}%
$$



So the list would be:

\[
\frac{1}{1}, \;\; \frac{2}{1}, \;\; \frac{1}{2}, \;\; \frac{1}{3}, \;\; \frac{2}{2}, \;\; \frac{3}{1}, \;\; \frac{4}{1}, \;\; \frac{3}{2}, \;\; \frac{2}{3}, \;\; \frac{1}{4}, \;\; \frac{1}{5}, \;\; \frac{2}{4},...\cdots \]

Note that this list repeats numbers (e.g. the number 1 appears as both $\frac{1}{1}$ and $\frac{2}{2}$). But we can just remove numbers that repeat, so the modified list looks like this:

\[
\frac{1}{1}, \;\; \frac{2}{1}, \;\; \frac{1}{2}, \;\; \frac{1}{3},  \;\; \frac{3}{1}, \;\; \frac{4}{1}, \;\; \frac{3}{2}, \;\; \frac{2}{3}, \;\; \frac{1}{4}, \;\; \frac{1}{5},...\cdots \]

and now this gives a bijection from $\mathbb{N}$ to $\mathbb{Q}$, where we send $n\in\mathbb{N}$ to the $n$th term in this list. 

\end{proof}

Not everything is countable though:

\begin{theorem}
Let $S$ be an infinite set and let $P(S)$ denote the {\it power set} consisting of the subsets of $S$, i.e. $P(S)= \{A\subseteq S\}$. Then $|S|<|P(S)|$. 
\end{theorem}

\begin{exercise}
Prove the above theorem. {\it Hint: Suppose there was $f:S\rightarrow P(S)$ bijective and think about the set $B=\{x\in S: x\not\in f(x)\}$.}
\end{exercise}

\begin{solution}
\begin{proof}
Suppose there was $f:S\rightarrow P(S)$ bijective, let $B=\{x\in S: x\not\in f(x)\}$. Since $f$ is bijective, it is surjective, and so there is $x$ so that $f(x)=B$. 
\begin{enumerate}
\item If $x\in B$, then by definition of $B$, $x\not\in f(x)=B$, a contradiction.
\item If $x\not\in B$, then by definition of $B$, $x\in f(x)=B$, again a contradiction.
\end{enumerate}
Since these are the only two possibilities, we have a full contradiction. Thus, there cannot be a function $f:S\rightarrow P(S)$ bijective, thus $|S|\neq |P(S)|$. Since there is a clear injection $g:S\rightarrow P(S)$ defined by $g(x)=\{x\}$, we have that $|S|\leq |P(S)|$, and so $|S|<|P(S)|$. 
\end{proof}
\end{solution}

A few natural questions arise from our discussions on cardinality. Firstly, we have seen that $|\N|<|\R|$, but is there anything in between? This is the {\it continuum hypothesis} posed by George Cantor:\\

\begin{description}
\item[Continuum Hypothesis (CH)] Is there no set $S$ with $|\mathbb{N}|<|S|<|\mathbb{R}|$?\\
\end{description}


Modern set theory (and mathematics in general) is based on a finite set of axioms called {\bf Zermelo--Fraenkel} set theory ({\bf ZFC}). In 1940, Kurt G\"odel showed that the CH cannot be disproved assuming ZFC, so it would see then that CH has to be true...but then Paul Cohen showed in 1963 that CH cannot be {\bf proved} assuming ZFC. In other words, CH is {\bf independent} of the axioms of mathematics: one can assume it's true or false and it won't contradict anything proven using the ZFC axioms!



%
%Cantor invented the notion of cardinality, countability vs. uncountability, the notion of and laid the groundwork for modern set theory. Until his time, people thought the only sets were finite sets and "infinite," whereas Cantor showed that some sets are more infinite than others, for example, that $|\N|<|\R|$. 


%
%\begin{multicols}{3} 
%
%
%\begin{center}
%\includegraphics[height=150pt]{Figures/Cantor-photo.jpg}\\
%George Cantor\\
%1845-1918
%\end{center}
%
%\begin{center}
%\includegraphics[height=150pt]{Figures/Godel-photo.jpg}\\
%Kurt G\"odel\\
%1906-1978\\
%\end{center}
%
%\begin{center}
%\includegraphics[height=150pt]{Figures/Cohen-photo.jpg}\\
%Paul Cohen\\
%1934-2007
%\end{center}
%\end{multicols}
%
%
%










%----------------------------------------------------------------------------------------
%	CHAPTER 3
%----------------------------------------------------------------------------------------

%\chapterimage{ima2} % Chapter heading image


%----------------

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------
%
%\chapter*{Bibliografía}
%\addcontentsline{toc}{chapter}{\textcolor{ocre}{Bibliografía}}
%\section*{Books}
%\addcontentsline{toc}{section}{Books}
%\printbibliography[heading=bibempty,type=book]
%
%\begin{itemize}
%	\item GREENE, W.H. (2003) “Econometric Analysis”5ª edición. Prentice Hall N.J. Capítulo 21
%\\\\
%    \item WOOLDRIDGE, J.M. (2010) “Introducción a la Econometría: Un Enfoque Moderno". 4ª edición. Cengage Learning. Capítulo 17
%
%\end{itemize}


%----------------------------------------------------------------------------------------
%	INDEX
%----------------------------------------------------------------------------------------

\cleardoublepage
\phantomsection
\setlength{\columnsep}{0.75cm}
\addcontentsline{toc}{chapter}{\textcolor{ocre}{Índice Alfabético}}
\printindex

%----------------------------------------------------------------------------------------

\end{document}


